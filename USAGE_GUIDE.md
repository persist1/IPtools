# IP工具箱 - 快速使用指南

## 📚 目录
1. [文件句柄查询](#文件句柄查询)
2. [进程查询](#进程查询)
3. [结束进程](#结束进程)
4. [IP地址查询](#ip地址查询)
5. [常见问题](#常见问题)

---

## 📁 文件句柄查询

### 使用场景
- 文件被占用无法删除
- 想知道哪个程序在使用某个文件
- 检查文件锁定情况

### 操作步骤
1. 打开程序，切换到 **"文件句柄查询"** 标签页
2. 在 **"路径"** 输入框输入文件路径，或点击 **"浏览..."** 选择文件
   ```
   例如：C:\KIOSK\GwiXfs\ProxyServer.exe
   ```
3. 点击 **"查询"** 按钮
4. 查看结果表格：
   - **进程名称**：占用文件的程序名
   - **PID**：进程ID
   - **进程路径**：程序完整路径

### 💡 提示
- 如果没找到结果，可能需要以管理员身份运行程序
- 点击 **"刷新"** 可以重新查询

---

## 🔍 进程查询

### 使用场景
- 想知道某个程序打开了哪些文件
- 查看进程加载的所有DLL
- 检查程序依赖项

### 操作步骤
1. 切换到 **"文件句柄查询"** 标签页
2. 在 **"进程名/PID"** 输入框输入：
   - **进程名称**：`chrome.exe`、`explorer.exe` 等
   - **或PID**：`1234`、`5678` 等
3. 点击 **"查询进程"** 按钮
4. 查看该进程打开的所有文件和模块

### 示例
```
输入：chrome.exe
结果：显示所有Chrome浏览器进程及其加载的DLL、打开的文件
```

---

## ⚡ 结束进程

### 使用场景
- 文件被锁定，需要结束占用进程
- 程序无响应，需要强制关闭

### 操作步骤
1. 在查询结果列表中找到要结束的进程
2. **右键点击** 该进程行
3. 选择 **"🔴 结束进程"**
4. 在确认对话框中点击 **"是"**

### ⚠️ 警告
- 强制结束进程可能导致数据丢失
- 请确认要结束的是正确的进程
- 系统关键进程可能需要管理员权限

---

## 🌐 IP地址查询

### 功能1：查看本机IP

#### 自动获取
- 程序启动时自动获取并显示
- 包含局域网IP和公网IP

#### 手动刷新
1. 切换到 **"IP地址查询"** 标签页
2. 点击 **"获取本机IP"** 按钮

#### 显示信息
**局域网IP信息：**
- 🖧 网卡名称
- 📍 IP地址
- 🔒 子网掩码
- 🏷️ MAC地址

**公网IP信息：**
- 🌐 公网IP地址
- 📍 国家、省份、城市
- 🏢 运营商
- 🕐 时区
- ⏰ 查询时间

### 功能2：查询其他IP

#### 使用场景
- 查看某个网站的IP归属地
- 检查服务器位置
- 验证IP地理位置

#### 操作步骤
1. 在 **"IP地址查询"** 标签页
2. 在输入框输入IP地址
   ```
   例如：8.8.8.8（Google DNS）
   例如：114.114.114.114（国内DNS）
   ```
3. 点击 **"查询"** 按钮
4. 查看详细信息：
   - IP归属地
   - 运营商
   - 经纬度坐标
   - AS号码

---

## ❓ 常见问题

### Q1: 为什么查不到某些进程？
**A:** 需要以管理员身份运行程序：
1. 右键点击 `IPtools.exe`
2. 选择 **"以管理员身份运行"**

### Q2: 结束进程失败怎么办？
**A:** 可能的原因：
- 没有管理员权限 → 以管理员身份运行
- 系统保护进程 → 无法结束关键系统进程
- 进程已结束 → 点击刷新按钮更新列表

### Q3: IP查询显示网络错误？
**A:** 检查：
- 是否连接到互联网
- 防火墙是否阻止程序联网
- DNS设置是否正常

### Q4: 局域网IP为什么有多个？
**A:** 一台电脑可以有多个网卡：
- 以太网网卡（有线）
- WiFi网卡（无线）
- 虚拟网卡（VPN、虚拟机等）

### Q5: 如何清空查询结果？
**A:** 直接执行新的查询即可自动清空旧结果

### Q6: 支持哪些操作系统？
**A:** 
- ✅ Windows Vista 及更高版本
- ❌ Linux、macOS（暂不支持）

---

## 🔑 快捷操作

| 操作 | 方法 |
|------|------|
| 浏览文件 | 点击 "浏览..." 按钮 |
| 刷新列表 | 点击 "刷新" 按钮 |
| 结束进程 | 右键 → 结束进程 |
| 获取本机IP | 点击 "获取本机IP" |
| 查询其他IP | 输入IP → 点击 "查询" |

---

## 💡 使用技巧

1. **管理员权限**：建议始终以管理员身份运行，以获取完整信息
2. **进程名模糊匹配**：输入 `chrome` 可以找到所有包含chrome的进程
3. **快速刷新**：查询后如果进程状态改变，点击刷新即可更新
4. **批量查看**：进程查询会显示所有匹配的进程及其文件

---

## 📞 技术支持

如遇到问题或有改进建议，欢迎反馈！

**项目信息：**
- 开发工具：Qt Creator 4.11.1
- Qt版本：5.14.2 或更高
- 编译器：MinGW 32-bit / MSVC

---

## 📄 相关文档

- [README.md](README.md) - 项目介绍
- [BUILD.md](BUILD.md) - 编译说明
- [CHANGELOG.md](CHANGELOG.md) - 版本更新记录

